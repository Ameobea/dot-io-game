pub struct Conf {
    pub physics: PhysicsConf,
    pub network: NetworkConf,
    pub game: GameConf,
}

pub struct PhysicsConf {
    pub acceleration_per_tick: f32,
    pub max_player_speed: f32,
    pub friction_per_tick: f32,
    pub collider_margin: f32,
    pub engine_time_step: f32,
}

pub struct NetworkConf {
    pub websocket_url: &'static str,
    pub phoenix_transport_version: &'static str,
    pub game_channel_name: &'static str,
    pub phoenix_tag: &'static str,
    pub custom_event_name: &'static str,
    pub message_buffer_size: usize,
    pub render_delay_ticks: u32,
    pub player_interpolation_mix: f32,
}

pub struct GameConf {
    pub world_min_x: f32,
    pub world_max_x: f32,
    pub world_min_y: f32,
    pub world_max_y: f32,
    pub default_player_size: f32,
    pub player_beam_length: f32,
    pub player_beam_width: f32,
}

pub const CONF: Conf = Conf {
    physics: PhysicsConf {
        acceleration_per_tick: {{ f32 physics-accelerationPerTick }},
        max_player_speed: {{ f32 physics-maxPlayerSpeed }},
        friction_per_tick: {{ f32 physics-frictionPerTick }},
        collider_margin: {{ f32 physics-colliderMargin }},
        engine_time_step: {{ f32 physics-engineTimeStep }},
    },
    network: NetworkConf {
        websocket_url: "{{ network-websocketUrl }}",
        phoenix_transport_version: "{{ network-phoenixTransportVersion }}",
        game_channel_name: "{{ network-gameChannelName }}",
        phoenix_tag: "{{ network-phoenixTag }}",
        custom_event_name: "{{ network-customEventName }}",
        message_buffer_size: {{ network-messageBufferSize }},
        render_delay_ticks: {{ network-renderDelayTicks }},
        player_interpolation_mix: {{ f32 network-playerPositionInterpolationRatio }},
    },
    game: GameConf {
        world_min_x: {{ f32 game-worldMinX }},
        world_max_x: {{ f32 game-worldMaxX }},
        world_min_y: {{ f32 game-worldMinY }},
        world_max_y: {{ f32 game-worldMaxY }},
        default_player_size: {{ f32 game-defaultPlayerSize }},
        player_beam_length: {{ f32 game-playerBeamLength }},
        player_beam_width: {{ f32 game-playerBeamWidth }},
    },
};
